{% extends 'layout/base.html' %}
{% from 'macros/user.html' import render_user_avatar %}
{% set current_page = 'orga' %}
{% set title = 'Team' %}

{% block head %}
  <style>
    .orga-overview {
      display: -webkit-flex;
      display: flex;
      -webkit-flex-wrap: wrap;
      flex-wrap: wrap;
      -webkit-justify-content: center;
      justify-content: center;
    }
    .orga-overview li {
      font-size: 0.9rem;
      margin: 1rem 0;
      padding: 0;
      text-align: center;
      width: 200px;
    }
    .orga-overview li p {
      line-height: 1.3rem;
      margin: 0.3rem 0 0 0;
      padding: 0;
    }
  </style>
{%- endblock head %}

{% block body %}

  <h1>{{ title }}</h1>

  <ol class="orga-overview">
    {%- for user in orgas|sort(attribute='screen_name') %}
    <li>
      <div>
        {%- if user.has_avatar_image %}
        {{ render_user_avatar(user) }}
        {%- else %}
        <div class="avatar"></div>
        {%- endif %}
      </div>
      <p>
        <strong>{{ user.screen_name }}</strong>
        {%- if user.detail.full_name %}
        <br/>
        {{ user.detail.full_name }}
        {%- endif %}
        {%- set orga_team_membership = user.orga_team_membership_for_current_party %}
        {%- if orga_team_membership %}
        <br/>
        {{ orga_team_membership.orga_team.title }}
        {%- if orga_team_membership.duties %} ({{ orga_team_membership.duties }}){% endif %}
        {%- endif %}
      </p>
    </li>
    {%- endfor %}
  </ol>

{%- endblock body %}
