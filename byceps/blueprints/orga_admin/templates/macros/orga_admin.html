{% from 'macros/admin.html' import render_main_tabs as _render_main_tabs %}


{% macro render_main_tabs(current_page) -%}
  {{
    _render_main_tabs(
      Navigation(None)
        .add_item(url_for('orga_admin.persons'), 'Personen', id='orga_admin.persons', required_permission=OrgaDetailPermission.view, icon='users')
        .add_item(url_for('orga_admin.birthdays'), 'Geburtstage', id='orga_admin.birthdays', required_permission=OrgaBirthdayPermission.list, icon='birthday')
      , current_page
    )
  }}
{%- endmacro %}


{% macro render_relative_days_until(user) %}
  {%- set days_until_next_birthday = user.detail.days_until_next_birthday %}
  {%- set is_soon = (days_until_next_birthday <= 7) %}

  {%- if is_soon %}<strong>{% endif %}

  {%- if days_until_next_birthday == 0 -%}
    heute
  {%- elif days_until_next_birthday == 1 -%}
    morgen
  {%- elif days_until_next_birthday == 2 -%}
    übermorgen
  {%- else -%}
    in {{ days_until_next_birthday }} Tagen
  {%- endif %}

  {%- if is_soon %}</strong>{% endif %}
{%- endmacro %}


{% macro render_time_element(date, label) -%}
  <time datetime="{{ date.isoformat() }}" title="{{ date.strftime('%d.%m.%Y') }}">{{ label }}</time>
{%- endmacro %}


{% macro render_random_age_adjective() %}
  {{- [
    'agile',
    'atemberaubende',
    'bemerkenswerte',
    'beneidenswerte',
    'fantastische',
    'beschauliche',
    'bombastische',
    'eindrucksvolle',
    'epische',
    'erbarmungslose',
    'erfrischende',
    'erheiternde',
    'erquickende',
    'fantastische',
    'ganze',
    'grandiose',
    'herzallerliebste',
    'kolossale',
    'krasse',
    'legendäre',
    'niedliche',
    'passable',
    'phänomenale',
    'possierliche',
    'quirlige',
    'schmeichelhafte',
    'sensationelle',
    'sportliche',
    'überschaubare',
    'umwerfende',
    'unbegreifliche',
    'unbeschreibliche',
    'unbezahlbare',
    'unfassbare',
    'unglaubliche',
    'wahnsinnige',
    'wilde',
    'zarte',
    'zierliche',
    'zuckersüße',
  ]|random }}
{%- endmacro %}
