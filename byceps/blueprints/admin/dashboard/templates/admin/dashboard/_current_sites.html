{% from 'macros/admin/brand.html' import render_brand_avatar %}
{% from 'macros/admin/dashboard.html' import render_cell %}


<div class="dashboard-section-title">{{ _('Current Sites') }}</div>

<div class="grid">

{%- if current_sites %}
  {%- for site in current_sites|sort(attribute='title') %}
    {%- call render_cell(href=url_for('site_admin.view', site_id=site.id)) %}
  <div style="float: left; margin-right: 0.5rem;">{{ render_brand_avatar(site.brand, '32') }}</div>
  <div>{{ site.title }}</div>
  <div class="supplement">{{ site.server_name }}</div>
    {%- endcall %}
  {%- endfor %}
{%- else %}
  {%- call render_cell() %}
  <div style="display: grid; height: 100%; place-items: center;">{{ _('No current sites')|dim }}</div>
  {%- endcall %}
{%- endif %}

{%- call render_cell(href=url_for('site_admin.index')) %}
<div style="display: grid; height: 100%; place-items: center;">{{ _('All sites') }} &rarr;</div>
{%- endcall %}

</div>
