{%- from 'macros/admin.html' import render_navigation %}
{%- from 'macros/admin/brand.html' import render_brand_avatar %}


<section class="sidebar-section">
  <header class="sidebar-section-header sidebar-section-header--unpadded">
    <div class="sidebar-section-header-layout">
      {{ render_brand_avatar(brand, '32') }}
      <div>
        <div class="sidebar-section-category">{{ _('Site') }}</div>
        {{ site.title }}
      </div>
    </div>
  </header>
  {%- with navigation = Navigation(_('Site'))
      .add_item(
        url_for('snippet_admin.index_for_scope', scope_type='site', scope_name=site.id),
        _('Snippets'),
        id='snippet_admin_for_site',
        required_permission=SnippetPermission.view,
        icon='snippet')
      .add_item(
        url_for('shop_storefront_admin.view', storefront_id=site.storefront_id) if site.storefront_id else '',
        _('Storefront'),
        id='shop_storefront_admin',
        required_permission=ShopPermission.view,
        precondition=site.storefront_id is not none,
        icon='shop')
      .add_item(
        url_for('more_admin.view_site', site_id=site.id),
        _('More'),
        id='more_admin_site',
        required_permission=AdminPermission.access,
        icon='ellipsis-h')
  -%}
{{ render_navigation(navigation, current_page) }}
  {%- endwith %}
</section>
